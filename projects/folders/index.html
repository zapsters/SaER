<!DOCTYPE html>
<html>
<head>
<title>SaER File Browser</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

<style>
body{ 
    font-family: "Courier New";
}
.dirFolder {
    display: none;
}
.containerDiv {
    min-height: 30px;
    border-bottom: 0;
    background: white;
    position: relative;
    display: flex;
    padding: 0px;
    margin: 0px;
    overflow: hidden;
    padding: 10px;
    cursor: pointer;
}
.containerDiv .iconDiv {
    margin: 0px;
    width: 50px;
}
.containerDiv .content {
    margin: 0px;
    overflow: none;
    flex: 1;
}
.containerDiv .content p {
    position: relative;
    transform: translateY(-50%);
    top: 50%;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.link {
    cursor: pointer; 
    color: blue;
    text-decoration: underline;
}
.containerDiv:hover {
    background: #E5E5E5;
}
.containerDiv:last-child {
}
.material-symbols-outlined {
     font-variation-settings:
     'FILL' 1,
     'wght' 400,
     'GRAD' 0,
     'opsz' 48;
}
.containerDiv .icon {
     position: absolute;
     font-size: 40px;
     top: 50%;
     transform: translateY(-50%);
     pointer-events: none;
}
.iDocument:after {
     content: "description";
     color: black;
     font-variation-settings:
     'FILL' 0,
     'wght' 400,
     'GRAD' 0,
     'opsz' 48;
}
.iProgram:after {
  content: "terminal";
  color: black;
}
.iFolder:after {
  content: "folder";
  color: #ffcf5e;
}
.iReturn:after {
  content: "keyboard_return";
}
.containerDiv:hover .iFolder:after {
  content: "folder_open"
}

</style>
</head>
<body onload="onLoad()">
<div id="pageblock">
<div id="fileBrowserContainer">
  <p style="padding: 0; margin: 0; font-size: 20px; font-weight: bold; text-decoration: underline;">= SaER Directory =</p>
  <p style="padding: 0; margin: 0; font-size: 16px;">Path: <span id="path"></span></p>
  
  <!-- ROOT -->
  <div id="root" class="dirFolder">
    <div class="containerDiv" onclick="openDir('root/folderA')">
        <div class="iconDiv">
            <span class="iFolder icon material-symbols-outlined"></span>
        </div>
        <div class="content">
            <p>folderA</p>
        </div>
    </div>
    <div class="containerDiv" onclick="openDir('root/templates')">
        <div class="iconDiv">
            <span class="iFolder icon material-symbols-outlined"></span>
        </div>
        <div class="content">
            <p>templates</p>
        </div>
    </div>
    <div class="containerDiv backbtn" id="backBtnTemplate" onclick="onReturn(); this.remove()" style="display: none">
        <div class="iconDiv">
            <span class="iReturn icon material-symbols-outlined"></span>
        </div>
        <div class="content">
            <p>Back</p>
        </div>
    </div>
  </div>
  
  <!-- ROOT/TEMPLATES -->
  <div id="root/templates" class="dirFolder">
    <div class="containerDiv" onclick="openDir('root/templates')">
        <div class="iconDiv">
            <span class="iFolder icon material-symbols-outlined"></span>
        </div>
        <div class="content">
            <p>This is an exmaple of a folder.</p>
        </div>
    </div>
    <div class="containerDiv" class="dirFolder" onclick="">
        <div class="iconDiv">
            <span class="iDocument icon material-symbols-outlined"></span>
        </div>
        <div class="content">
            <p>This is an example of a text document.</p>
        </div>
    </div>
    <div class="containerDiv" class="dirFolder" onclick="">
        <div class="iconDiv">
            <span class="iProgram icon material-symbols-outlined"></span>
        </div>
        <div class="content">
            <p>This is an example of a program.</p>
        </div>
    </div>
    <div class="containerDiv" onclick="">
        <div class="iconDiv">
            <span class="iReturn icon material-symbols-outlined"></span>
        </div>
        <div class="content">
            <p>This is an example of a back button.</p>
        </div>
    </div>
  </div>
  
  <!-- ROOT/FOLDERA -->
  <div id="root/folderA" class="dirFolder">
    <div class="containerDiv" onclick="openDir('root/folderA/folderB')">
        <div class="iconDiv">
            <span class="iFolder icon material-symbols-outlined"></span>
        </div>
        <div class="content">
            <p>FolderB</p>
        </div>
    </div>
    <div class="containerDiv" onclick="">
        <div class="iconDiv">
            <span class="iProgram icon material-symbols-outlined"></span>
        </div>
        <div class="content">
            <p>Astro.exe</p>
        </div>
    </div>
  </div>
  
  <!-- ROOT -->
  <div id="root/folderA/folderB" class="dirFolder">
    <div class="containerDiv" onclick="openDir('root');">
        <div class="iconDiv">
            <span class="iFolder icon material-symbols-outlined"></span>
        </div>
        <div class="content">
            <p>Return to root.</p>
        </div>
    </div>
  </div>
</div>
<script>
var path = "root";

function openDir(dir) {
  //This checks to see if a back button should've been created. If one should've, try to remove it. 
  if(path.split("/").length > 1) {
  	var boxes = document.getElementById(path).getElementsByClassName("backbtn");
    if(boxes[0]) boxes[0].remove();
  }
  //Hide the old path's div, set the new path to dir, then displat the new path.
  document.getElementById(path).style.display = "none";
  path = dir;
  document.getElementById("path").innerHTML = path;
  document.getElementById(dir).style.display = "block";
  
  //Create a back button if the path is deeper than 'root'
  if(path.split("/").length > 1) {
    var clonedBackBtn = document.getElementById("backBtnTemplate").cloneNode(true);
    clonedBackBtn.style.display = "flex";
  	document.getElementById(dir).appendChild(clonedBackBtn);
  }
}
function onReturn() {
  pathArray = path.split("/");
  pathArray.pop();
  pathArray = pathArray.join("/");
  newpath = pathArray;
  
  openDir(newpath);
}
window.onload = (event) => {
	onLoad();
};
function onLoad() {
	openDir(path);
}
</script>
</body>
</html>
